PART
{
	name = Atlas_Factory_20m
	module = Part
	author = Roverdude
	
	MODEL
	{
		model = UmbraSpaceIndustries/MKS/Assets/Tundra_375Rigid
		texture = t37,UmbraSpaceIndustries/MKS/Assets/t34
		rotation = 180, 0, 0
	}
	rescaleFactor = 1
	node_stack_left = 0.0,0.0,1.875,0.0,0.0,1,2
	node_stack_right = 0.0,0.0,-1.875,0.0,0.0,-1,2
	node_stack_sideleft = 1.875,0.0,0.0,1,0.0,0.0,2
	node_stack_sideright = -1.875,0.0,0.0,-1,0.0,0.0,2
	node_stack_250top = 0.0, 3.5, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_250bottom = 0.0, -3.5, 0.0, 0.0, -1.0, 0.0, 2
	node_stack_125top = 0.0, 4, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_125bottom = 0.0, -4, 0.0, 0.0, -1.0, 0.0, 1	
	node_stack_top = 0.0, 3.0, 0.0, 0.0, 1.0, 0.0, 3
	node_stack_bottom = 0.0, -3.0, 0.0, 0.0, -1.0, 0.0, 3

	TechRequired = advConstruction
	entryCost = 259200
	cost = 354000
	category = none
	subcategory = 0
	title = MKS 'Atlas' Factory (20m)
	manufacturer = USI - Manufacturing Division
	description = An off-world manufacturing facility, capable of creating a variety of finished goods.
	
	tags = USI MKS Atlas Crew ?iva Control command base utility station convert support factor workshop science container KIS goods assembl stor logistics swap bay repair Kerbal Recycle LifeSupport liv MaterialKits Metals Polymers Ore Recyclables SpecializedParts Silicon RefinedExotics ColonySupplies Organics Chemicals ElectricCharge e/c 

	attachRules = 1,0,1,1,0
	mass = 421.5
	dragModelType = default
	maximum_drag = 0.05
	minimum_drag = 0.05
	angularDrag = 1
	crashTolerance = 8
	breakingForce = 2000
	breakingTorque= 2000
	maxTemp = 1200 // = 2900
	bulkheadProfiles = size3
	CrewCapacity = 96

	INTERNAL
	{
		name = crewCabinInternals
	}

	MODULE
	{
		name = ModuleStructuralNode
		rootObject = F250Bot
		attachNodeNames = top
		reverseVisibility = true
	}	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = F250Top
		attachNodeNames = bottom
		reverseVisibility = true
	}	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = F125Bot
		attachNodeNames = 125top
	}	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = F125Top
		attachNodeNames = 125bottom
	}
	MODULE
	{
 		name = ModuleCommand
  		minimumCrew = 0
  		RESOURCE
  		{
     		name=ElectricCharge
      		rate = 0.02777778
  		}
  	}
	MODULE
	{
		name = ModuleProbeControlPoint
		minimumCrew = 1
		multiHop = True
	}
	MODULE
	{
		name = ModuleScienceContainer
		reviewActionName = Review Data
		storeActionName = Store Experiments
		collectActionName = Take Data
		evaOnlyStorage = True
		storageRange = 3.5
		allowRepeatedSubjects = True
	}
	MODULE
	{
		name = ModuleAutoRepairer	
	}
	MODULE
	{
		name = ModuleColonyRewards
	}
	MODULE
	{
    	name = ModuleExperienceManagement
    	costPerKerbal = 0
	}
	MODULE
	{
		name = ModuleOrbitalLogistics
	}
	MODULE
	{
		name = ModulePlanetaryLogistics
	}	
	MODULE
	{
		name = ModulePowerCoupler
	}
	MODULE
	{
		name = ModuleResourceDistributor
	}
	MODULE
	{
		name = ModuleResourceSurveyor
	}
	MODULE
	{
		name = ModuleWeightDistributor
	}
	MODULE
	{
		name = USI_InertialDampener
	}	
	MODULE
	{
		name = GroundWorkshop
		Efficiency = 96
	}	
	MODULE
	{
		name = MKSModule
		EfficiencyMultiplier = 144
	}
	MODULE
	{
		name = USI_SwapController 
		ResourceCosts = SpecializedParts,351,MaterialKits,1755,ElectricCharge,1755	
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 1
		moduleIndex = 0
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 2
		moduleIndex = 1
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 3
		moduleIndex = 2
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 4
		moduleIndex = 3
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 5
		moduleIndex = 4
	}
	MODULE
	{
		name = USI_SwappableBay
		bayName = Bay 6
		moduleIndex = 5
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_Converter

		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = ColonySupplies
		StartActionName = Start ColonySupplies
		StopActionName = Stop ColonySupplies
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = MaterialKits
			Ratio =  0.02025000
		}
		INPUT_RESOURCE
		{
			ResourceName = SpecializedParts
			Ratio =  0.02025000
		}
		INPUT_RESOURCE
		{
			ResourceName = Organics
			Ratio =  0.06075000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 202.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ColonySupplies
			Ratio = 0.10125000
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Fertilizer (G)
		StartActionName = Start Fertilizer (G)
		StopActionName = Stop Fertilizer (G)
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Crusher
	
		INPUT_RESOURCE
		{
			ResourceName = Gypsum
			Ratio =  0.18010000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 270.15
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Fertilizer
			Ratio = 0.09005000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio = 0.03602
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Fertilizer (M)
		StartActionName = Start Fertilizer (M)
		StopActionName = Stop Fertilizer (M)
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Crusher

		INPUT_RESOURCE
		{
			ResourceName = Minerals
			Ratio =  0.28145000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 337.74
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Fertilizer
			Ratio = 0.05629000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio = 0.05629
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = LFO
		StartActionName = Start LFO
		StopActionName = Stop LFO
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio =  0.33500000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 368.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LiquidFuel
			Ratio = 0.01507500
			DumpExcess = False
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = 0.01842500
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio =  0.067
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = LiquidFuel
		StartActionName = Start LiquidFuel
		StopActionName = Stop LiquidFuel
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio =  0.28150000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 337.8
		}
		OUTPUT_RESOURCE
		{
			ResourceName = LiquidFuel
			Ratio = 0.05630000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio =  0.0563
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Machinery
		StartActionName = Start Machinery
		StopActionName = Stop Machinery
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = MaterialKits
			Ratio =  0.08100000
		}
		INPUT_RESOURCE
		{
			ResourceName = SpecializedParts
			Ratio =  0.02025000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 202.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.10125000
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = MaterialKits
		StartActionName = Start MaterialKits
		StopActionName = Stop MaterialKits
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = MetallicOre
			Ratio =  0.10320000
		}
		INPUT_RESOURCE
		{
			ResourceName = Minerals
			Ratio =  0.05160000
		}
		INPUT_RESOURCE
		{
			ResourceName = Substrate
			Ratio =  0.10320000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 322.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = MaterialKits
			Ratio = 0.06450000
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = MonoPropellant
		StartActionName = Start MonoPropellant
		StopActionName = Stop MonoPropellant
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio =  0.28150000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 337.8
		}
		OUTPUT_RESOURCE
		{
			ResourceName = MonoPropellant
			Ratio = 0.05630000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio =  0.0563
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Recycling
		StartActionName = Start Recycling
		StopActionName = Stop Recycling
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill

		INPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio =  0.15835000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 253.36
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Metals
			Ratio = 0.03167000
			DumpExcess = False
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Chemicals
			Ratio = 0.03167000
			DumpExcess = False
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Polymers
			Ratio = 0.03167000
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = SpecializedParts
		StartActionName = Start SpecializedParts
		StopActionName = Stop SpecializedParts
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Workshop

		INPUT_RESOURCE
		{
			ResourceName = RareMetals
			Ratio =  0.00630000
		}
		INPUT_RESOURCE
		{
			ResourceName = ExoticMinerals
			Ratio =  0.00630000
		}
		INPUT_RESOURCE
		{
			ResourceName = Minerals
			Ratio =  0.07560000
		}
		INPUT_RESOURCE
		{
			ResourceName = Silicates
			Ratio =  0.25200000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 371.7
		}
		OUTPUT_RESOURCE
		{
			ResourceName = SpecializedParts
			Ratio = 0.03150000
			DumpExcess = False
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = TransportCredits
		StartActionName = Start TransportCredits
		StopActionName = Stop TransportCredits
		
		UseSpecialistBonus = false

		INPUT_RESOURCE
		{
			ResourceName = MaterialKits
			Ratio = 0.02013600
		}
		INPUT_RESOURCE
		{
			ResourceName = LiquidFuel
			Ratio = 0.04530600
		}
		INPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = 0.05537400
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 221.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = TransportCredits
			Ratio = 0.10068000
			DumpExcess = false
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Water (Hyd)
		StartActionName = Start Water (Hyd)
		StopActionName = Stop Water (Hyd)
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Crusher
	
		INPUT_RESOURCE
		{
			ResourceName = Hydrates
			Ratio =  0.33500000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 368.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Water
			Ratio = 0.03350000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio = 0.067
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE
	{
		name = USI_ConverterSwapOption
		ConverterName = Water (Ore)
		StartActionName = Start Water (Ore)
		StopActionName = Stop Water (Ore)
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Crusher

		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio =  0.37475000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 389.74
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Water
			Ratio = 0.01499000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio = 0.07495
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	MODULE:NEEDS[Karbonite]
	{
		name = USI_ConverterSwapOption
		ConverterName = Water (Karb)
		StartActionName = Start Water (Karb)
		StopActionName = Stop Water (Karb)
		
		UseSpecialistBonus = true
		ExperienceEffect = ConverterSkill
		EfficiencyTag = Crusher

		INPUT_RESOURCE
		{
			ResourceName = Karbonite
			Ratio =  0.37475000
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 389.74
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Water
			Ratio = 0.01499000
			DumpExcess = False
		}
		OUTPUT_RESOURCE:NEEDS[ART]
		{
			ResourceName = Rock
			Ratio = 0.07495
			DumpExcess = true
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.0012000
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.0012000
			DumpExcess = true
		}
		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 60000
		}
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 96000
		maxAmount = 96000
		isTweakable = true
	}  
	RESOURCE	
	{
		name = Machinery
		amount = 6000
		maxAmount = 60000
		isTweakable = true
	}
	RESOURCE	
	{
		name = Recyclables
		amount = 0
		maxAmount = 60000
		isTweakable = true
	}		
}
